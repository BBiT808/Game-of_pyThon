<!-- 20250526 html 21번째 수업~ 헉쓰바리 돌돌바리 양세바리~ -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin : 0;
            padding: 0;
        }
        img {
            width: 100px;
            margin: 0;
            font-size: 3rem;
            position : absolute;
            padding: 20px 30px 30px;
            /* transform: translate(200px, 400px); */
            user-select : none;  /* 드래그가 안 되도록 !!! */
        }
    </style>
    <script>
        let status = false;
        document.addEventListener("DOMContentLoaded", () => {
            const pac = document.createElement("img");
            
            
            setInterval (()=>{
                if (status) {
                    pac.src = "/img/pac_1.png";
                } else {
                    pac.src = "/img/pac_2.png";
                }
                status = !status  // 꺼져있으면 키게, 켜져있으면 끄게!!
            },200)            
            
            document.body.appendChild(pac);
            
            let x = (y = 0);
            const step = 40;
            
            
            const move = (event) => {
                
                pac.style.left = `${x*step}px`;
                pac.style.top = `${y*step}px`;
            };
            move(); // 최초 로딩 !!
            window.addEventListener("keydown", (event) => {
                if(event.key =="ArrowLeft") {
                    x -= 1;
                    pac.style.transform = "scaleX(-1)";
                }
                if(event.key =="ArrowRight") {
                    x += 1;
                    pac.style.transform = "scaleX(1)";
                }
                if(event.key =="ArrowUp") {
                    y -= 1;
                    pac.style.transform = "rotate(270deg)";}
                    if(event.key =="ArrowDown") {
                        y += 1;
                        pac.style.transform = "rotate(90deg)";
                        // pac.style.transform = "translate(200px, 400px)";
                    }
                    console.log(event.key);
                    move();
                    
                });
                const item = document.createElement("img");
                item.src = "/img/item.png";
                item.style.position = "absolute";

                setInterval (()=>{
                    // 아이템 숨기기 !!
                    item.style.display = "none";

                    setTimeout(() => {

                        // 화면 탈출 방지를 위해 -100을 해줬음 !!!
                    const randomX = Math.floor(Math.random() * (window.innerWidth - 100));
                    const randomY = Math.floor(Math.random() * (window.innerHeight - 100));
     
                    // 위치 설정
                    item.style.left = `${randomX}px`;
                    item.style.top = `${randomY}px`;
                    // 다시 보여주기
                    item.style.display = "block";
                    }, 1000);
                    
                },10000) ;
                
                document.body.appendChild(item);

        });
    </script>
</head>
<body>
</body>
</html>